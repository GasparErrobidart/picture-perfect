function PicturePerfect(e,i){var n=this;i=i||{},n.options=i,n.img=e,n.initialized=!(0!=i.lazy&&n.lazyLoad),n.maxWindowSize=window.innerWidth,n._calculateSizes=function(){0!=i.calculateSize&&n.setElementSize&&n.setElementSize(e)},n._updateSources=function(){0!=i.dynamicSources&&n.updateSources&&n.updateSources(n.img)},n._mimicBackgroundImage=function(){0!=i.mimicBackgroundImage&&n.mimicBackgroundImage&&n.mimicBackgroundImage(n.img)},n.addClass=function(e){-1==n.img.className.indexOf(e)&&setTimeout(function(){n.img.className=n.img.className+=" "+e},10)},n.removeClass=function(e){var i=new RegExp(e,"gi");n.img.className=n.img.className.replace(i,"")},n.onProximity=function(){n.initialized&&(n.addClass("picture-perfect-ready"),n.img.addEventListener("load",n.onLoad),window.addEventListener("resize",function(){setTimeout(n.onResize,100)}),n._calculateSizes(),n._updateSources(),n._mimicBackgroundImage())},n.onResize=function(){n.maxWindowSize<window.innerWidth&&(n.maxWindowSize=window.innerWidth,n._updateSources()),n._calculateSizes(),n._mimicBackgroundImage()},n.onLoad=function(e){n.addClass("picture-perfect-loaded"),n._mimicBackgroundImage()},n.onLoadStart=function(e){n.removeClass("picture-perfect-loaded")},n.img.addEventListener("loadstart",n.onLoadStart),n.addClass("picture-perfect"),n.initialized?n.onProximity():n.lazyLoad(),n._mimicBackgroundImage(),window.addEventListener("load",function(){n.onProximity()})}var JIT_IMG=function(e,i){new PicturePerfect(e,i),e.onload=null};PicturePerfect.prototype.handPickSizeFor=function(e){return Math.ceil(e.getBoundingClientRect().width/window.innerWidth*100)+"vw"},PicturePerfect.prototype.setElementSize=function(e){e.setAttribute("sizes",this.handPickSizeFor(e))};