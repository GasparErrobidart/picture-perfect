!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([,function(e,t){function i(e,t){var i=this;t=t||{},i.options=t,i.img=e,i.img.className=i.img.className+=" picture-perfect",i.initialized=!(0!=t.lazy&&i.lazyLoad),i.maxWindowSize=window.innerWidth,i._calculateSizes=function(){0!=t.calculateSize&&i.setElementSize&&i.setElementSize(e)},i._updateSources=function(){0!=t.dynamicSources&&i.updateSources&&i.updateSources(i.img)},i._mimicBackgroundImage=function(){0!=t.mimicBackgroundImage&&i.mimicBackgroundImage&&i.mimicBackgroundImage(i.img)},i.onProximity=function(){i.initialized=!0,i.img.className=i.img.className+=" picture-perfect-ready",i.img.addEventListener("load",i.onLoad),window.addEventListener("resize",function(){setTimeout(i.onResize,100)}),i._calculateSizes(),i._updateSources()},i.onResize=function(){i.maxWindowSize<window.innerWidth&&(i.maxWindowSize=window.innerWidth,i._updateSources()),i._calculateSizes(),i._mimicBackgroundImage()},i.onLoad=function(e){i._mimicBackgroundImage()},i.initialized?i.onProximity():i.lazyLoad(),i._mimicBackgroundImage()}i.prototype.getDynamicEndpoint=function(e,t){if(e){(t=t||{}).density||(t.density="1");var i=parseFloat(t.density),n=this.img.getBoundingClientRect(),r=Math.ceil(n.width)||100,a=Math.ceil(n.height);return t.rawWidth=n.width,t.rawHeight=n.height,t.width=Math.ceil(r*i),t.height=Math.ceil(a*i),Object.keys(t).forEach(function(i){var n=new RegExp("\\$\\{"+i+"\\}","gi");e=e.replace(n,t[i])}),{url:e,params:t}}},i.prototype.extractDynamicSourceOptions=function(e){var t={dynamicSrcDensity:e.getAttribute("dynamic-src-density")||""+window.devicePixelRatio,dynamicSrc:e.getAttribute("dynamic-src"),dynamicSrcSetDensities:e.getAttribute("dynamic-srcset-densities")||""+window.devicePixelRatio,dynamicSrcSet:e.getAttribute("dynamic-srcset"),dynamicBackgroundImageDensity:e.getAttribute("dynamic-background-url-density")||""+window.devicePixelRatio,dynamicBackgroundImage:e.getAttribute("dynamic-background-image"),mime:(e.getAttribute("type")||"").replace("image/","")};return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t},i.prototype.updateSources=function(e){var t=this,i=e.parentElement,n={},r=[e];if(i&&/picture/gi.test(i.tagName)){n=t.extractDynamicSourceOptions(i);for(var a=0;a<i.childNodes.length;a++)/source/gi.test(i.childNodes[a].tagName)&&r.push(i.childNodes[a])}r.forEach(function(e){var i=Object.assign({},n,t.extractDynamicSourceOptions(e));if(["dynamicSrc","dynamicBackgroundImage"].forEach(function(n){if(i[n]){var r={density:i[n+"Density"],mime:i.mime},a=t.getDynamicEndpoint(i[n],r);"dynamicSrc"==n?e.setAttribute("src",a.url):e.style.backgroundImage='url("'+a.url+'")'}}),i.dynamicSrcSet){var r=[];i.dynamicSrcSetDensities.split(",").forEach(function(e){var n={density:e,mime:i.mime},a=t.getDynamicEndpoint(i.dynamicSrcSet,n);r.push(a.url+" "+a.params.width+"w")}),e.setAttribute("srcset",r.join(","))}})}}]);